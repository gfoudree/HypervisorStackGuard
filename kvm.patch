--- linux-4.19.24/arch/x86/kvm/x86.c	2019-02-20 03:25:50.000000000 -0600
+++ linux-4.19.24/arch/x86/kvm/x86.c	2019-02-23 02:36:30.607936416 -0600
@@ -6878,6 +6878,12 @@
 	case KVM_HC_SEND_IPI:
 		ret = kvm_pv_send_ipi(vcpu->kvm, a0, a1, a2, a3, op_64_bit);
 		break;
+	case KVM_HC_TEST_HYPERCALL:
+		printk(KERN_INFO "test hypercall!\n");
+		unsigned long rip = kvm_register_read(vcpu, VCPU_REGS_RIP);
+		unsigned long rsp = kvm_register_read(vcpu, VCPU_REGS_RSP);
+		printk(KERN_INFO "called from RIP=%lx RSP=%lx\n", rip, rsp);
+		break;
 	default:
 		ret = -KVM_ENOSYS;
 		break;
--- linux-4.19.24/include/uapi/linux/kvm_para.h	2019-02-20 03:25:50.000000000 -0600
+++ linux-4.19.24/include/uapi/linux/kvm_para.h	2019-02-22 20:31:28.051501699 -0600
@@ -29,6 +29,7 @@
 #define KVM_HC_CLOCK_PAIRING		9
 #define KVM_HC_SEND_IPI		10

+#define KVM_HC_TEST_HYPERCALL 11
 /*
  * hypercalls use architecture specific
  */
